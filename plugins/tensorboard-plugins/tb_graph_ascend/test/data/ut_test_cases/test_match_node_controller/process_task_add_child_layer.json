[
    {
        "case_id": 1,
        "description": "测试参数不全",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "npu_node": {
                            "node_type": "Module",
                            "subnodes": [
                                "npu_child1"
                            ]
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "bench_node": {
                            "node_type": "Module",
                            "subnodes": [
                                "bench_child1"
                            ]
                        }
                    }
                }
            },
            "npu_node_name": "",
            "bench_node_name": "bench_node",
            "task": "md5"
        },
        "expected": {
            "success": false,
            "error": "参数错误"
        }
    },
    {
        "case_id": 2,
        "description": "测试节点类型不一致",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "npu_node": {
                            "node_type": "Module",
                            "subnodes": [
                                "npu_child1"
                            ]
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "bench_node": {
                            "node_type": "API",
                            "subnodes": [
                                "bench_child1"
                            ]
                        }
                    }
                }
            },
            "npu_node_name": "npu_node",
            "bench_node_name": "bench_node",
            "task": "md5"
        },
        "expected": {
            "success": false,
            "error": "节点类型不一致,无法添加匹配关系"
        }
    },
    {
        "case_id": 3,
        "description": "测试无子节点",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "npu_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": []
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "bench_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": []
                        }
                    }
                }
            },
            "npu_node_name": "npu_node",
            "bench_node_name": "bench_node",
            "task": "md5"
        },
        "expected": {
            "success": true,
            "data": {
                "npuMatchNodes": {
                    "npu_node": "bench_node"
                },
                "benchMatchNodes": {
                    "bench_node": "npu_node"
                },
                "npuUnMatchNodes": [],
                "benchUnMatchNodes": []
            }
        }
    },
    {
        "case_id": 4,
        "description": "测试多层递归子节点匹配（符合命名规则）",
        "type": "process_task_add_child_layer",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "model.npu_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": [
                                "model.layer1.npu_child_module",
                                "model.layer1.npu_child_api"
                            ]
                        },
                        "model.layer1.npu_child_module": {
                            "node_type": "Module",
                            "matched_node_link": [],
                            "subnodes": [
                                "model.layer1.sub.npu_grandchild_module",
                                "model.layer1.sub.npu_grandchild_api"
                            ]
                        },
                        "model.layer1.npu_child_api": {
                            "node_type": "API",
                            "matched_node_link": []
                        },
                        "model.layer1.sub.npu_grandchild_module": {
                            "node_type": "Module",
                            "matched_node_link": []
                        },
                        "model.layer1.sub.npu_grandchild_api": {
                            "node_type": "API",
                            "matched_node_link": []
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "model.bench_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": [
                                "model.layer1.bench_child_module",
                                "model.layer1.bench_child_api"
                            ]
                        },
                        "model.layer1.bench_child_module": {
                            "node_type": "Module",
                            "matched_node_link": [],
                            "subnodes": [
                                "model.layer1.sub.bench_grandchild_module",
                                "model.layer1.sub.bench_grandchild_api"
                            ]
                        },
                        "model.layer1.bench_child_api": {
                            "node_type": "API",
                            "matched_node_link": []
                        },
                        "model.layer1.sub.bench_grandchild_module": {
                            "node_type": "Module",
                            "matched_node_link": []
                        },
                        "model.layer1.sub.bench_grandchild_api": {
                            "node_type": "API",
                            "matched_node_link": []
                        }
                    }
                }
            },
            "npu_node_name": "model.npu_node",
            "bench_node_name": "model.bench_node",
            "task": "md5"
        },
        "expected": {
            "success": true,
            "data": {
                "npuMatchNodes": {
                    "model.npu_node": "model.bench_node",
                    "model.layer1.npu_child_api": "model.layer1.bench_child_api",
                    "model.layer1.npu_child_module": "model.layer1.bench_child_module",
                    "model.layer1.sub.npu_grandchild_api": "model.layer1.sub.bench_grandchild_api",
                    "model.layer1.sub.npu_grandchild_module": "model.layer1.sub.bench_grandchild_module"
                },
                "benchMatchNodes": {
                    "model.bench_node": "model.npu_node",
                    "model.layer1.bench_child_api": "model.layer1.npu_child_api",
                    "model.layer1.bench_child_module": "model.layer1.npu_child_module",
                    "model.layer1.sub.bench_grandchild_api": "model.layer1.sub.npu_grandchild_api",
                    "model.layer1.sub.bench_grandchild_module": "model.layer1.sub.npu_grandchild_module"
                },
                "npuUnMatchNodes": [],
                "benchUnMatchNodes": []
            }
        }
    },
    {
        "case_id": 5,
        "description": "测试部分子节点匹配（不符合命名规则）",
        "type": "process_task_add_child_layer",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "model.npu_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.npu_child1",
                                "model.layer1.npu_short_child"
                            ]
                        },
                        "model.layer1.sub.npu_child1": {
                            "node_type": "Module",
                            "matched_node_link": []
                        },
                        "model.layer1.npu_short_child": {
                            "node_type": "API",
                            "matched_node_link": []
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "model.bench_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "md5": "abcd1234"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "md5": "efgh5678"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.bench_child1"
                            ]
                        },
                        "model.layer1.sub.bench_child1": {
                            "node_type": "Module",
                            "matched_node_link": []
                        }
                    }
                }
            },
            "npu_node_name": "model.npu_node",
            "bench_node_name": "model.bench_node",
            "task": "md5"
        },
        "expected": {
            "success": true,
            "data": {
                "npuMatchNodes": {
                    "model.npu_node": "model.bench_node",
                    "model.layer1.sub.npu_child1": "model.layer1.sub.bench_child1"
                },
                "benchMatchNodes": {
                    "model.bench_node": "model.npu_node",
                    "model.layer1.sub.bench_child1": "model.layer1.sub.npu_child1"
                },
                "npuUnMatchNodes": [],
                "benchUnMatchNodes": []
            }
        }
    },
    {
        "case_id": 6,
        "description": "测试SUMMARY任务类型递归（符合命名规则）",
        "input": {
            "graph_data": {
                "NPU": {
                    "node": {
                        "model.npu_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.npu_child"
                            ]
                        },
                        "model.layer1.sub.npu_child": {
                            "node_type": "API",
                            "matched_node_link": [],
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.deep.npu_grandchild"
                            ]
                        },
                        "model.layer1.sub.deep.npu_grandchild": {
                            "node_type": "Module",
                            "matched_node_link": [],
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            }
                        }
                    }
                },
                "Bench": {
                    "node": {
                        "model.bench_node": {
                            "node_type": "Module",
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.bench_child"
                            ]
                        },
                        "model.layer1.sub.bench_child": {
                            "node_type": "API",
                            "matched_node_link": [],
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "subnodes": [
                                "model.layer1.sub.deep.bench_grandchild"
                            ]
                        },
                        "model.layer1.sub.deep.bench_grandchild": {
                            "node_type": "Module",
                            "matched_node_link": [],
                            "input_data": {
                                "input1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            },
                            "output_data": {
                                "output1": {
                                    "Max": "1.0",
                                    "Min": "0.1"
                                }
                            }
                        }
                    }
                }
            },
            "npu_node_name": "model.npu_node",
            "bench_node_name": "model.bench_node",
            "task": "summary"
        },
        "expected": {
            "success": true,
            "data": {
                "npuMatchNodes": {
                    "model.npu_node": "model.bench_node",
                    "model.layer1.sub.npu_child": "model.layer1.sub.bench_child",
                    "model.layer1.sub.deep.npu_grandchild": "model.layer1.sub.deep.bench_grandchild"
                },
                "benchMatchNodes": {
                    "model.bench_node": "model.npu_node",
                    "model.layer1.sub.bench_child": "model.layer1.sub.npu_child",
                    "model.layer1.sub.deep.bench_grandchild": "model.layer1.sub.deep.npu_grandchild"
                },
                "npuUnMatchNodes": [],
                "benchUnMatchNodes": []
            }
        }
    }
]